# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface
auto lo
iface lo inet loopback

# the management network (10.0.0.0/24)
auto em1
iface em1 inet static
    address 10.0.0.8<%= hostnum %>
    netmask 255.255.255.0
    network 10.0.0.0
    broadcast 10.0.0.255

# UPS monitoring network. note this is a direct P2P link
# for now, so both controllers have same address. if a
# a controller fails, move the cable
auto em2
iface em2 inet static
    address 172.30.0.<%= hostnum %>
    netmask 255.255.255.0
    network 172.30.0.0
    broadcast 172.30.0.255

auto p2p2.10
iface p2p2.10 inet static
    address 192.168.1.24<%= hostnum %>
    netmask 255.255.255.0
    network 192.168.1.0
    broadcast 192.168.1.255
    gateway 192.168.1.1
    up ip link set p2p2 mtu 9000

# the external network (10.0.2.0/24)
auto p2p2.41
iface p2p2.41 inet static
    address 10.0.2.8<%= hostnum %>
    netmask 255.255.255.0
    network 10.0.2.0
    broadcast 10.0.2.255
    up ip link set p2p2 mtu 9000

# the internal network (10.0.1.0/24)
auto p2p1
iface p2p1 inet static
    address 10.0.1.8<%= hostnum %>
    netmask 255.255.255.0
    network 10.0.1.0
    broadcast 10.0.1.255
    up ip link set p2p1 mtu 9000

